# ============================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# ============================================
# Copy this file to .env and fill in secure values
# NEVER commit the actual .env file to version control!
#
# File permissions: chmod 600 .env
# Owner: chown www-data:www-data .env (or your app user)

# ============================================
# APPLICATION SETTINGS
# ============================================
DEBUG=false
APP_NAME=Store Feedback System
API_V1_PREFIX=/api/v1

# ============================================
# SERVER CONFIGURATION
# ============================================
# Bind to localhost only (Nginx reverse proxy handles external traffic)
HOST=127.0.0.1
PORT=8000

# ============================================
# DATABASE CONFIGURATION
# ============================================
# MongoDB Connection String
# Production: Use authentication!
# Format: mongodb://username:password@localhost:27017/database?authSource=database
MONGODB_URL=mongodb://feedback_app:CHANGE_THIS_PASSWORD@localhost:27017/store_feedback?authSource=store_feedback
MONGODB_DB_NAME=store_feedback

# ============================================
# JWT AUTHENTICATION (CRITICAL!)
# ============================================
# Generate a secure random key with:
# python3 -c "import secrets; print(secrets.token_urlsafe(64))"
#
# MUST BE:
# - At least 64 characters long
# - Randomly generated
# - Kept secret
# - Changed if compromised
# - Backed up securely
JWT_SECRET_KEY=GENERATE_A_NEW_SECRET_KEY_HERE_DO_NOT_USE_DEFAULT
JWT_ALGORITHM=HS256
# Token expiration in minutes (480 = 8 hours)
ACCESS_TOKEN_EXPIRE_MINUTES=480

# ============================================
# FILE STORAGE
# ============================================
# Absolute path to upload directory
# Ensure proper permissions: chown -R www-data:www-data /var/data/store-feedback
UPLOAD_DIR=/var/data/store-feedback/uploads
MAX_FILE_SIZE_MB=50
BASE_URL=https://store-feedback.tarsyer.com

# ============================================
# WHISPER TRANSCRIPTION
# ============================================
# Path to whisper.cpp binary
WHISPER_CLI_PATH=/opt/whisper.cpp/build/bin/whisper-cli
# Path to Whisper model file
WHISPER_MODEL_PATH=/opt/whisper.cpp/models/ggml-medium.bin
# Language code (hi=Hindi, en=English)
WHISPER_LANGUAGE=hi

# ============================================
# QWEN3 LLM API CONFIGURATION
# ============================================
# Internal API endpoint for analysis
QWEN_API_URL=https://kwen.tarsyer.com/v1/chat/completions
# API authentication key
QWEN_API_KEY=CHANGE_THIS_TO_YOUR_ACTUAL_API_KEY
# Target server identifier
QWEN_TARGET_SERVER=BK
# Maximum tokens for LLM response
QWEN_MAX_TOKENS=1000

# ============================================
# BACKGROUND PROCESSING
# ============================================
# How often workers check for new tasks (seconds)
PROCESS_INTERVAL_SECONDS=30
# Maximum concurrent transcription jobs
MAX_CONCURRENT_TRANSCRIPTIONS=2

# ============================================
# CORS CONFIGURATION
# ============================================
# Allowed origins for API access (production domain only)
# Multiple domains: https://domain1.com,https://domain2.com
CORS_ORIGINS=https://store-feedback.tarsyer.com

# ============================================
# FRONTEND CONFIGURATION
# ============================================
# API URL for frontend to connect to
VITE_API_URL=https://store-feedback.tarsyer.com

# ============================================
# MONITORING & LOGGING (Optional)
# ============================================
# LOG_LEVEL=INFO
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
# ENABLE_METRICS=true

# ============================================
# EMAIL NOTIFICATIONS (Optional)
# ============================================
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-specific-password
# ADMIN_EMAIL=admin@tarsyer.com

# ============================================
# SECURITY NOTES
# ============================================
# 1. This file contains sensitive credentials
# 2. NEVER commit this file to version control
# 3. Use restrictive file permissions (chmod 600)
# 4. Rotate secrets regularly (quarterly recommended)
# 5. Use different values for dev/staging/production
# 6. Back up this file securely (encrypted storage)
# 7. Monitor access logs for unauthorized attempts
# 8. Enable MongoDB authentication in production
# 9. Use HTTPS/TLS for all production traffic
# 10. Implement database backups and test restoration
